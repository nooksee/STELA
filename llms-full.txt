## PoT.md
# PoT.md
# Policy of Truth (PoT)

## Preamble: Mechanistic Doctrine
Mechanistic Doctrine: The system prevents action that violates policy. It does not request compliance.
PoT is the single constitutional document for Stela governance. It supersedes TRUTH.md, AGENTS.md, SECURITY.md, and CONTRIBUTING.md. Legacy copies are archived.

## 1. The Constitution (Physical Laws)

### 1.1 Filing Doctrine
Filing:
- `ops/` = Run (binaries, manifests, automation).
- `docs/` = Explain (manuals and rationale).
- `projects/` = Work (payload code).
- `storage/` = Trash (local artifacts, never canon).

### 1.2 Axioms
- Precedence: PoT is final authority; if conflict exists, stop and ask.
- SSOT: one canonical file per domain; other mentions are pointers.
- Reuse-first: search `ops/` for an existing template before creating a new artifact.
- Context Hazard: any inclusion of `docs/library/agents`, `docs/library/tasks`, or `docs/library/skills` in the global context manifest is a failure.
- Drift: any divergence between canon and repository state, or duplication of canon outside SSOT, is a failure state that requires stop and correction.
- SoP: history ledger only; no permanent rules live there.

### 1.3 Canon Surfaces
- `PoT.md` — constitution, staffing, jurisdiction, and enforcement (SSOT).
- `TASK.md` — active work surface and DP contract.
- `SoP.md` — history ledger and shipment record.
- `docs/library/MANUAL.md` — operator mechanics.
- `docs/library/MAP.md` — context wayfinding.
- `ops/lib/manifests/CONTEXT.md` — required context set.
- `llms.txt` — discovery entry point.

## 2. The Sheriff (Enforcement)
The Sheriff is the Integrator plus Automation (linters, repo-gates, and binaries).
Mandate:
- Stop work.
- Reject PRs.
- Kill processes.
Triggers:
- Any PoT violation or canon drift.
- Context hazard in the global manifest.
- Scope breach or forbidden zone access.

## 3. Jurisdiction (The Multi-verse)

### 3.1 The Crown (Platform)
Scope: `ops/`, `docs/`, `tools/`, `.github/`, and root governance surfaces.
Law: Absolute PoT enforcement. No contractions. Strict formatting. The Sheriff halts work on violations.

### 3.2 The Colonies (Projects)
Scope: `projects/`.
Law: Structural adherence to platform governance. Each project must include `STELA.md`.
Local law applies to project content. Contractions are allowed only when the project `STELA.md` permits them.
Platform automation still governs any platform surfaces touched during project work.

## 4. Staffing & Logic

### 4.1 Staffing Protocol
- Operator (Human): Owns final decisions, approvals, and secrets. Performs all commits, pushes, and merges.
- Integrator (Lead AI): Maintains governance, structural integrity, and auditing. Generates Dispatch Packets and detects system drift.
- Contractor (Guest AI): Executes specific logic tasks and drafts implementation details within a defined scope.

### 4.2 Behavioral Logic Standard
- Linguistic Precision: No contractions.
- Linguistic Precision: Quantitative reporting required for deviations from protocol.
- Linguistic Precision: Absolute literalism; seek clarification for ambiguity before proceeding.
- Operational Directives: Anti-drift governance; logic or files misaligned with PoT.md are a system failure.
- Operational Directives: Context hygiene; ops/lib/manifests/CONTEXT.md must exclude docs/library/agents, docs/library/tasks, and docs/library/skills.
- Operational Directives: Logic conflict resolution; stop until the Operator redefines parameters if a task violates PoT.md.
- Operational Directives: Equilibrium maintenance; a task is complete only when SoP.md is updated.
- Operational Directives: Reuse-first discipline; cross-reference ops/ templates before creating new artifacts.
- Operational Directives: Contractor closeout skill harvesting uses ops/lib/scripts/skill.sh harvest for provenance.
- Operational Directives: Contractor closeout skill harvesting forbids manual creation of docs/library/skills markdown files.
- Operational Directives: Contractor closeout skill harvesting is mandatory for production payloads and optional for platform maintenance.
- Jurisdiction note: The Colonies may permit contractions in project content when `STELA.md` allows them. Crown surfaces remain contraction-free.

### 4.3 Hard Constraints (SSOT)
- PoT.md
- SoP.md
- TASK.md
- ops/lib/manifests/CONTEXT.md
- docs/library/MANUAL.md
- docs/library/MAP.md

### 4.4 Entry Points
- llms.txt

### 4.5 Drafting Proposal Protocol
- Integrator proposals: An Integrator may propose a work branch name and Base HEAD when they are not yet provided.
- Operator authority: The Operator creates branches and provides the final Base HEAD; Contractors do not create or switch branches.
- Provisional marking: Any provisional value must be prefixed with PROPOSED: during drafting and must be removed or replaced with finalized values before any worker runs a DP.

## 5. Workflow & Security

### 5.1 Non-Negotiables
- Do not push to `main`.
- Work only on `work/*` branches.
- Every PR must pass repo-gates.

### 5.2 Standard Workflow
- Create a branch named `work/<topic>-YYYY-MM-DD`.
- Make small, reviewable changes.
- Keep unrelated refactors out of the change set.
- Review changes visually before commit.
- Use clear commit messages.
- Push the `work/*` branch, open a PR, wait for repo-gates, then merge.

### 5.3 Provenance
- Record imported or adapted external code in `docs/UPSTREAMS.md` or the correct truth-layer document.
- Include source, purpose, changes, and known risks or limits.

### 5.4 Security Policy (Stela)
Roles and access expectations are defined in PoT.md.

#### Secrets Management
- Never commit secrets, API keys, or credentials to the repo.
- Use environment variables or a local secrets manager for sensitive values.
- If a secret is exposed, rotate it and document the remediation.

#### AI Usage Policy
- AI assistance is allowed with human oversight.
- All AI-proposed changes must be reviewed by a human operator.
- Provide citations or provenance for external sources or non-trivial claims.

#### Reporting Vulnerabilities
Preferred:
- Use a GitHub Security Advisory for this repository.

If you cannot use GitHub Security Advisories:
- Contact the repository owners via GitHub and request a private channel.
- Do not disclose details publicly until coordinated.

When reporting, include:
- A clear description of the issue.
- Minimal reproduction steps or proof-of-concept.
- Affected files or versions (if known).
- Suggested mitigations (optional, appreciated).

#### Handling and Disclosure
- Reports are acknowledged as soon as practical.
- Fixes are prioritized by impact, exploitability, and clarity.
- We aim for coordinated, responsible disclosure.

#### Known Issues and Future Improvements
- Legacy code paths include MD5 hashing that should be upgraded.


## SoP.md
Archive policy: keep most recent 30 entries; older entries moved to `storage/archives/root/SoP-archive-YYYY-MM.md`.

## 2026-02-05 - DP-OPS-0025: Governance Consolidation & Policy of Truth (PoT)

- Purpose: Consolidate governance surfaces into PoT and resolve jurisdiction ambiguity.
- What shipped:
  - Created `PoT.md` consolidating TRUTH, AGENTS, SECURITY, and CONTRIBUTING with the Mechanistic Doctrine, Sheriff enforcement, and Multi-verse jurisdiction.
  - Updated governance pointers, manifests, and ops/bin tooling to reference `PoT.md`, and tombstoned `SECURITY.md` and `CONTRIBUTING.md`.
  - Archived legacy `TRUTH.md` and `AGENTS.md` into `storage/archives/root/` with date suffixes.
  - Updated `tools/lint/truth.sh` to scan `PoT.md` and refreshed context bundle inputs.
- Verification:
  - `./ops/bin/dump --scope=platform`
  - `bash tools/lint/context.sh`
  - `bash tools/lint/truth.sh`
  - `bash ops/lib/scripts/skill.sh harvest --name "DP-OPS-0025 Worker Closeout" --context "platform governance consolidation for DP-OPS-0025" --solution "No promotion. This run records Policy of Truth consolidation, pointer updates, and receipt proofs." --force`
  - `bash ops/bin/prune`
  - `bash ops/bin/llms`
- Risk / rollback:
  - Risk: Medium (governance pointers and canon consolidation now depend on `PoT.md`).
  - Rollback: revert `PoT.md`, `ops/lib/manifests/CONTEXT.md`, `tools/lint/truth.sh`, `TASK.md`, `docs/library/MAP.md`, `docs/library/INDEX.md`, `.github/copilot-instructions.md`, `SECURITY.md`, `CONTRIBUTING.md`, `SoP.md`, `docs/CONTEXT.md`, `docs/INDEX.md`, `docs/QUICKSTART.md`, `docs/GOVERNANCE.md`, `docs/library/MANUAL.md`, `README.md`, `llms.txt`, `ops/bin/dump`, `ops/bin/open`, `ops/bin/llms`, `ops/bin/help`, `llms-small.txt`, `llms-full.txt`, and restore `TRUTH.md` and `AGENTS.md` from `storage/archives/root/` archives.

## 2026-02-05 - DP-OPS-0024: Phase 3 Security Hardening & Autopoietic Compliance

- Purpose: Enforce Phase 3 input sanitization, style enforcement, and project STELA validation to close audit gaps.
- What shipped:
  - Hardened `ops/lib/scripts/project.sh` with strict token validation and realpath-based path validation for agent and registry access.
  - Updated `tools/lint/style.sh` to fail on contraction tokens across `docs/` and `ops/` and require `rg`.
  - Added `tools/lint/project.sh` to validate project STELA references against `docs/library/INDEX.md`.
  - Updated `docs/library/MAP.md` to define Provider and Consumer root ontology.
  - Removed contraction tokens from `ops/bin/open`, `docs/CONTEXT.md`, and agent guidance surfaces.
- Verification:
  - `./ops/bin/dump --scope=platform`
  - `bash tools/lint/context.sh`
  - `bash tools/lint/truth.sh`
  - `bash tools/lint/project.sh`
  - `bash tools/lint/style.sh`
  - `bash ops/lib/scripts/skill.sh harvest --name "DP-OPS-0024 Worker Closeout" --context "platform maintenance closeout for DP-OPS-0024" --solution "No promotion. This run records security hardening, lint additions, and receipt proofs." --force`
  - `bash ops/bin/prune`
  - `bash ops/bin/llms`
- Risk / rollback:
  - Risk: Medium (project inputs now reject non-token display names and notes; style lint now blocks contractions in `docs/` and `ops/`).
  - Rollback: revert `ops/lib/scripts/project.sh`, `tools/lint/style.sh`, `tools/lint/project.sh`, `docs/library/MAP.md`, `ops/bin/open`, `docs/CONTEXT.md`, `docs/library/agents/R-AGENT-03.md`, `docs/library/agents/R-AGENT-05.md`, `docs/library/agents/R-AGENT-06.md`, and `SoP.md`.

## 2026-02-05 - DP-OPS-0023: Phase 3 Activation (Project Binary Alignment & Linter Refactor)

- Purpose: Restore `ops/bin/project work` after static `open` reversal by moving project and agent context injection into the project binary, then harden lint tools for root-safe execution.
- What shipped:
  - Refactored `ops/bin/project` `cmd_work` to call `ops/bin/open` without deprecated flags, capture OPEN output to `storage/handoff/`, append project STELA/README context, and inject agent role text resolved via `project_resolve_agent_file` and `project_extract_agent_role`.
  - Hardened `tools/lint/context.sh`, `tools/lint/truth.sh`, `tools/lint/library.sh`, and `tools/verify.sh` to resolve `REPO_ROOT` via git and force `cd "$REPO_ROOT" || exit 1` before file operations.
  - Updated `tools/lint/truth.sh` file selection to filter missing tracked paths before grep so unstaged deletions do not produce scan noise.
  - Verified Skills pointer surfaces were already aligned to `docs/library/SKILLS.md` in `ops/lib/scripts/skill.sh`, `llms.txt`, and `docs/library/INDEX.md`; no path edits were required in this slice.
- Verification:
  - `./ops/bin/dump --scope=platform`
  - `bash tools/lint/context.sh`
  - `bash tools/lint/truth.sh`
  - `bash tools/lint/library.sh`
  - `bash tools/verify.sh`
  - `bash ops/lib/scripts/skill.sh harvest --name "DP-OPS-0023 Worker Closeout" --context "platform maintenance closeout for DP-OPS-0023" --solution "No promotion. This run records project binary alignment, linter hardening, and receipt proofs." --force`
  - `bash ops/bin/prune`
  - `bash ops/bin/llms --out-dir=storage/handoff`
- Risk / rollback:
  - Risk: Medium (project work prompt generation path changed from direct open flags to captured artifact assembly).
  - Rollback: revert `ops/bin/project`, `tools/lint/context.sh`, `tools/lint/truth.sh`, `tools/lint/library.sh`, `tools/verify.sh`, and `SoP.md`.

## 2026-02-05 - DP-OPS-0022: Factory Consolidation, Linter Root Fix, and Open Reversal

- Purpose: Resolve linter path fragility, relocate the Skills registry to library canon, remove redundant integration documents, and move agent-resolution helpers from `ops/bin/open` into `ops/lib/scripts/project.sh`.
- What shipped:
  - Refactored `tools/lint/context.sh`, `tools/lint/truth.sh`, `tools/lint/library.sh`, and `tools/verify.sh` to resolve repo root via `git rev-parse --show-toplevel` and fail fast outside git.
  - Updated `tools/lint/truth.sh` to `cd` into `REPO_ROOT` before running `git ls-files`.
  - Hardened `tools/lint/truth.sh` grep execution to suppress transient missing-file noise from unstaged deletes.
  - Relocated `docs/library/SKILLS.md` to `docs/library/SKILLS.md` and updated pointers in `ops/lib/scripts/skill.sh`, `llms.txt`, and `docs/library/INDEX.md`.
  - Expanded `docs/library/INDEX.md` with agent and task registry entries so restored Library Guard resolves registry drift cleanly.
  - Deleted redundant docs `ops/lib/project/user-STELA.md`, `ops/lib/project/INTEGRATION.md`, and `docs/library/INTEGRATION.md`.
  - Restored `ops/bin/open` to static behavior and transplanted helper logic into `ops/lib/scripts/project.sh` as `project_resolve_agent_file` and `project_extract_agent_role`.
- Verification:
  - `./ops/bin/dump --scope=platform`
  - `bash tools/lint/context.sh`
  - `bash tools/lint/truth.sh`
  - `bash tools/lint/library.sh`
  - `bash tools/verify.sh`
  - `bash ops/lib/scripts/skill.sh harvest --name "DP-OPS-0022 Worker Closeout" --context "platform maintenance closeout for DP-OPS-0022" --solution "No promotion. This run records receipts and path migrations only." --force`
  - `bash ops/lib/scripts/skill.sh check`
  - `Skill promotion: no new skill promoted (platform maintenance closeout; draft retained for receipt evidence).`
  - `bash ops/bin/prune`
  - `bash ops/bin/llms --out-dir=storage/handoff`
- Risk / rollback:
  - Risk: Medium (the project binary still passes `--agent` and `--include` to `ops/bin/open`; follow-up alignment is required in a separate scoped change because `ops/bin/project` is out of DP allowlist).
  - Rollback: revert `tools/lint/context.sh`, `tools/lint/truth.sh`, `tools/lint/library.sh`, `tools/verify.sh`, `docs/library/SKILLS.md`, `ops/lib/scripts/skill.sh`, `llms.txt`, `docs/library/INDEX.md`, `ops/lib/scripts/project.sh`, `ops/bin/open`, deleted integration docs, and `SoP.md`.

## 2026-02-04 - DP-OPS-0021: Project Binary Interface & Dynamic Context

- Purpose: Establish the Project Binary interface and dynamic context bundles for Phase 3 specialization.
- What shipped:
  - Refactored ops/bin/llms to read Small and Full bundles from the manifest and added profile slicing.
  - Added `--agent` and `--include` handling in ops/bin/open for persona and project context injection.
  - Implemented ops/bin/project with updated registry helpers and manifest.
  - Updated ops/lib/project/STELA.md and added [REMOVED].md; tightened AGENTS and CONTEXT headings.
- Verification:
  - `./ops/bin/dump --scope=platform`
  - `bash tools/lint/context.sh`
  - `bash tools/lint/truth.sh`
  - `bash ops/bin/prune`
  - `./ops/bin/llms --out-dir=storage/handoff`
- Risk / rollback:
  - Risk: Low (tooling and templates only).
  - Rollback: revert `AGENTS.md`, `[REMOVED].md`, `ops/bin/llms`, `ops/bin/open`, `ops/bin/project`, `ops/lib/scripts/project.sh`, `ops/lib/manifests/CONTEXT.md`, `ops/lib/manifests/PROJECTS.md`, `ops/lib/project/STELA.md`, and `SoP.md`.

## 2026-02-04 - DP-OPS-0020: Phase Two Doctrine (Truth, Hygiene, Style)

- Purpose: Compress canon, add pruning and bundling automation, and enforce uniform style.
- What shipped:
  - Refactored TRUTH.md and AGENTS.md into axiomatic, compressed canon.
  - Updated TASK.md headings to decimal format and added closeout checks for prune and llms.
  - Added ops/bin/prune for SoP sliding window archiving and handoff cleanup.
  - Added ops/bin/llms and generated llms-small.txt and llms-full.txt bundles.
  - Added markdownlint configuration and style and llms lint scripts.
  - Updated llms.txt and recorded governance changes.
- Verification:
  - `./ops/bin/dump --scope=platform`
  - `bash tools/lint/context.sh`
  - `bash tools/lint/truth.sh`
  - `bash tools/lint/style.sh`
  - `bash tools/lint/llms.sh`
  - `bash ops/bin/prune`
- Risk / rollback:
  - Risk: Low (governance and automation updates only).
  - Rollback: revert `TRUTH.md`, `AGENTS.md`, `TASK.md`, `SoP.md`, `llms.txt`, `.markdownlint.json`, `ops/bin/prune`, `ops/bin/llms`, `tools/lint/llms.sh`, `tools/lint/style.sh`, `llms-small.txt`, and `llms-full.txt`.


## 2026-02-04 — DP-OPS-0019: Context Hazard Guardrails

- Purpose: Strengthen context doctrine and guardrails to keep library directories out of the global manifest.
- What shipped:
  - Defined Context Hazard in TRUTH and marked library directories as JIT-only.
  - Added Context Hygiene directive in AGENTS to enforce hazard exclusion from the manifest.
  - Added negative constraints to docs/CONTEXT and hardened context to fail on library hazards.
  - Updated TASK work log and recorded governance update in SoP.
- Verification:
  - `./ops/bin/dump --scope=platform`
  - `bash tools/lint/context.sh`
  - `bash tools/lint/truth.sh`
- Risk / rollback:
  - Risk: Low (governance and lint guard updates only).
  - Rollback: revert `TRUTH.md`, `AGENTS.md`, `docs/CONTEXT.md`, `tools/lint/context.sh`, and `SoP.md`.

## 2026-02-04 — DP-OPS-0018: Proposal Protocol and Drafting Friction Reduction

- Purpose: Reduce DP drafting deadlocks by allowing provisional branch and Base HEAD proposals while preserving worker git authority.
- What shipped:
  - Updated TASK template to allow Integrator-assigned or Integrator-proposed (Operator-created) work branch labeling and to allow Base HEAD to be `Not provided` or `Current (draft; lock at merge)` during drafting, with a drafting note on finalization and worker stop rules.
  - Added Drafting Proposal Protocol in AGENTS to permit Integrator proposals, require `PROPOSED:` prefixes during drafting, and reaffirm Operator-provided finalization and contractor branch limits.
  - Added zero-byte dump verification in TASK receipt and clarified Mandatory Closing Block checklist wording.
- Verification:
  - `bash tools/verify.sh`
  - `bash tools/lint/context.sh`
  - `bash tools/lint/truth.sh`
  - `bash tools/lint/dp.sh --test`
  - `./ops/bin/dump --scope=platform --format=chatgpt --out=auto --bundle`
- Risk / rollback:
  - Risk: Low (governance text updates only).
  - Rollback: revert `TASK.md`, `AGENTS.md`, and `SoP.md`.

## 2026-02-03 — DP-OPS-0016: Hardened TASK.md (context hygiene + mandatory closing block)

- Purpose: Harden TASK worker context boundaries, receipt discipline, and closeout metadata structure.
- What shipped:
  - Removed OPEN from worker context load instructions and added the Integrator-only OPEN rule plus disposable artifact prohibition.
  - Expanded receipt checklist to require OPEN, OPEN-PORCELAIN, and dump artifacts with explicit failure conditions.
  - Added the Mandatory Closing Block with six distinct commit and PR metadata fields.
- Verification:
  - `./ops/bin/dump --scope=platform`
  - `bash tools/lint/context.sh`
  - `bash tools/lint/truth.sh`
- Risk / rollback:
  - Risk: Low (governance text updates only).
  - Rollback: revert `TASK.md` and `SoP.md`.

## 2026-02-02 — DP-OPS-0015: Skills System Final Hardening and Consolidation

- Purpose: Consolidate S-LEARN-08 into S-LEARN-06 and harden S-LEARN-06 and S-LEARN-07 with Trap and Solution patterns plus concrete commands.
- What shipped:
  - Moved Advanced Git Forensics to S-LEARN-06 and removed S-LEARN-08.
  - Rewrote S-LEARN-06 and S-LEARN-07 with mandated Trap and Solution guidance and concrete command checks.
  - Updated docs/library/INDEX.md to register S-LEARN-06 and refresh the S-LEARN-07 title.
- Verification:
  - `./ops/bin/dump --scope=platform`
  - `bash tools/lint/context.sh`
  - `bash tools/lint/truth.sh`
  - `bash tools/lint/library.sh`
  - `bash tools/verify.sh` (PASS with 3 warnings: storage/archives, storage/documentation, storage/ToDo)
- Risk / rollback:
  - Risk: Low (documentation and registry updates).
  - Rollback: revert `docs/library/skills/S-LEARN-06.md`, `docs/library/skills/S-LEARN-07.md`, `docs/library/INDEX.md`, and `SoP.md`.



## TASK.md
# STELA TASK DASHBOARD (LIVING SURFACE)
**Status:** ACTIVE  
**Owner (Integrator):** [Name/Handle]  
**Last Updated:** [YYYY-MM-DD]

> This file is the **single living surface** for the current work thread:
> - **Top:** current Dispatch Packet (DP) intent + constraints
> - **Bottom:** Work Log (timestamped continuity breadcrumbs + single next action)

Canon surface definitions live in `PoT.md`.

---

## 1. Required Context Load (Pre-Flight)
**Rule:** No execution until the worker explicitly confirms these are loaded.

**Must read (always):**
- [ ] `PoT.md` (constitution + jurisdiction)
- [ ] `SoP.md` (merge-grade readiness ledger)
- [ ] `ops/lib/manifests/CONTEXT.md` (required context set)
- [ ] `docs/library/MAP.md` (continuity terrain)

(OPEN is for Integrator/DP Writer state refresh; Worker does not read OPEN).
DISPOSABLE ARTIFACTS (chat logs, etc.) MUST NOT BE REFERENCED OR INCLUDED.

**Job-specific canon (fill in per DP):**
- [ ] [path/to/file]
- [ ] [path/to/file]

**Loading discipline (worker must echo):**
- “Loaded: PoT, SoP, CONTEXT, MAP (+ job-specific files).”

---

## 2. Active Context (Thread Header)
- **Goal:** System Consolidation & Truth Enforcement.
- **Constraint:** “My Local is Truth.”
- **Current DP:** DP-OPS-[ID] — [TITLE]
- **Work Branch (Integrator-assigned OR Integrator-proposed (Operator-created)):** [EXACT branch name]
- **Base HEAD (operator-provided):** [short-hash] or `Not provided` / `Current (draft; lock at merge)`
- **Single Next Action:** [One sentence. No lists.]
- **Blockers:** [None / describe]

**Drafting note:** Provisional Work Branch and Base HEAD values are allowed during drafting but must be finalized before worker execution. Workers still stop on any freshness mismatch and do not create or switch branches.

---

## 3. Current Dispatch Packet (DP) - Stela Standard (A-E)
**Formatting rule:** When emitted in chat, the entire DP must be enclosed in a single fenced code block (start to end).
# DP-OPS-[ID]: [TITLE]

## 3.1 Freshness Gate (Must Pass Before Work)
Base Branch: [branch]  
Required Work Branch: [branch]  
Base HEAD: [short-hash] (preferred) or `Not provided` / `Current (draft; lock at merge)`

Required local re-check (worker runs; paste results in RESULTS):
- `git rev-parse --abbrev-ref HEAD`
- `git rev-parse HEAD`
- `git status --porcelain`

Worker must already be on the **Required Work Branch** listed above (no branch creation or switching).

STOP if any mismatch.  
STOP if the Required Work Branch is missing.  
STOP if told to create or switch branches.

---

## 3.2 Required Context Load (Read Before Doing Anything)
**Worker must confirm loaded before acting:**
- PoT, SoP, CONTEXT, MAP
- Plus any DP-scoped files listed here:
  - [Exact path]
  - [Exact path]

(OPEN is for Integrator/DP Writer state refresh; Worker does not read OPEN).
DISPOSABLE ARTIFACTS (chat logs, etc.) MUST NOT BE REFERENCED OR INCLUDED.

---

## 3.3 Scope and Safety
- **Objective:** [One sentence goal]

- **Non-Goals (optional, drift-killer):**
  - [What is explicitly NOT being done]
  - [What must NOT expand]

### Target Files allowlist (hard gate)
- [path/to/file1]
- [path/to/file2]

Allowlist rule: exact paths only; use `(new)` prefix only when the DP explicitly allows new files.

- **Conditional Requirements:** If canon/governance surfaces (e.g., TASK.md) are modified, `SoP.md` MUST be included in the allowlist and updated.

- **Stop Condition (scope):** If any required change falls outside the allowlist, **STOP** and report.

- **Forbidden (unless DP explicitly overrides):**
  - No edits to `.github/`
  - No edits to `projects/` unless explicitly authorized
  - No renames/moves/deletes unless explicitly authorized

- **Worker Git Authority (non-negotiable):**
  - Workers do not create/switch branches.
  - Workers do not stage/commit/merge/push.
  - Workers only return diffs/results/receipt.

- **Precedence:** If any conflict exists, **PoT.md wins**. If unclear, STOP and ask.

- **Strict Stop Conditions (generic):**
  - STOP if any placeholder text remains in final outputs (`[ ... ]`, `TODO`, `TBD`, `...`).
  - STOP if required DP inputs are missing (do not guess).
  - STOP if IDs / naming constraints in the DP are inconsistent (when applicable).

---

## 3.4 Execution Plan (A-E Canon)

### 3.4.1 State
- **Context:** [Why we are doing this]
- **Drift:** [What is currently wrong]
- **Desired State:** [What “correct” looks like]

### 3.4.2 Request
**Numbered tasks (concrete, no vibes):**
1) [Do X]
2) [Do Y]
3) [If blocked, STOP and use BLOCKED shape]

**Required Content (optional; use when doc/governance changes demand exact text/format):**
- [Specify required sections/format rules/quality bar as needed]

### 3.4.3 Changelog
- **Log (human-readable, 1–6 bullets):**
  - [What changed]

### 3.4.4 Patch / Diff
- **Format:** Unified diff (preferred) or anchored snippets.

### 3.4.5 Receipt (Required)

#### Verification (MUST RUN; or report NOT RUN + reason + risk)
- `./ops/bin/dump --scope=platform` (or repo-correct equivalent when scope differs)
- If dump refiners are used, include this fallback line in the DP:
  - `Fallback: ./ops/bin/dump --scope=platform --format=chatgpt --out=auto --bundle`
- **Zero-Byte Check:** Verify dump is not empty (`test -s <path>`).
- Context lint (use repo-canonical command):
  - Prefer: `bash tools/lint/context.sh`
  - If not found and required: **STOP** and ask (do not invent a substitute)
- Truth lint (when PoT or canon surfaces touched; use repo-canonical command):
  - Prefer: `bash tools/lint/truth.sh`
  - If not found and required: **STOP** and ask (do not invent a substitute)

#### Skill capture (required during normal DP processing)
- Workflow: run `ops/lib/scripts/skill.sh harvest` to auto-generate a draft with provenance and semantic collision checks.
- Review: inspect the draft in `storage/handoff/` for heuristic accuracy (Hot Zone and High Churn). Refine Invocation guidance and Solution. Do not edit the Provenance block.
- Promote: run `ops/lib/scripts/skill.sh promote <draft_path>` or log "no new skill promoted" with a rationale in RESULTS.
- Legacy capture is forbidden. Do not manually write skill files; the provenance block is required.
- If a DP requires skill capture, the DP Target Files allowlist must include `docs/library/SKILLS.md`.
- Proof required in RESULTS:
  - Harvest-only: command invoked plus draft path and `ls storage/handoff/` output.
  - Promotion: command invoked plus `grep -n "Promotion Packet:" docs/library/SKILLS.md` and `grep -n "docs/library/skills/S-LEARN-" docs/library/INDEX.md`.

#### Artifact bundle (required directory)
- `storage/handoff/`

#### Proof bundle checklist (required; naming pattern over exact names)
- `storage/handoff/DP-OPS--RESULTS.md` (required)
- `storage/handoff/OPEN-PORCELAIN-[work-branch]-[hash].txt` (required)
- `storage/handoff/OPEN-[work-branch]-[hash].txt` (required)
- `storage/dumps/dump-full-...` (or platform scope as applicable)
- `git diff --name-only` (include in RESULTS)
- `git diff --stat` (include in RESULTS)
- `NEXT:` one single action (include in RESULTS)

**MANDATE:** No receipt/proof bundle = **AUTOMATIC DISAPPROVAL**.
Closeout routine receipts not being produced CONSISTENTLY INCLUDING PORCELAIN, DUMP AND OPEN is a failure condition.
Partial receipts (e.g., missing OPEN artifacts when a session was started) are considered failures.

#### REQUIRED OUTPUT
**MUST include a "Status" block at the top of RESULTS:**
- `Scope summary:` (1 sentence validating the loop)
- `Tracked change:` (What was edited)
- `Verification:` (Output of proofs)

#### RESULTS file must include (minimum)
- Verification results (RUN/NOT RUN + reason + risk)
- Patch/diff proof bundle (status/diff list or direct diff)
- Receipt pointers (OPEN + PORCELAIN + DUMP outputs/paths)
- `git diff --name-only` output
- `git diff --stat` output
- `NEXT:` one single action

**Storage artifact flow (local-only, untracked):**
- OPEN and OPEN-PORCELAIN outputs land in `storage/handoff/`.
- Dump bundles land in `storage/dumps/`.
- Results receipts land in `storage/handoff/DP-OPS-0000-RESULTS.md` (pattern).
- Operator stores DP drafts under `storage/dp/intake/` and moves or copies to `storage/dp/processed/` after completion (or when reusing a previously executed DP).
- These are retention paths only; they are not worker prerequisites unless the DP explicitly says so.

---

## 4. Closeout (Mandatory)

### Worker closeout duties (end of session)
- [ ] Produce/Update: `storage/handoff/DP-OPS-[ID]-RESULTS.md`
- [ ] If canon/governance surfaces were changed, include **SoP.md** in scope and update it in the same PR slice.
- [ ] Run `ops/bin/prune` (hygiene).
- [ ] Run `ops/bin/llms` (refresh context bundles).
- [ ] Ensure proof bundle checklist is satisfied (above). (No bundle = DISAPPROVE.)
- [ ] Fill out the Mandatory Closing Block (see below).
- [ ] Append a **TASK Work Log** entry (below) capturing:
  - what changed (high level)
  - gates/verification outcome (pass/fail or not run + reason)
  - blockers (if any)
  - **NEXT:** one single action

### Mandatory Closing Block (Varied Wording Required)
Varied Wording provision: Each entry must use meaningfully distinct wording; copy or minor tense changes are not acceptable. Entry 4 must differ from Entry 1.
1. Primary Commit Header (plaintext)
2. Pull Request Title (plaintext)
3. Pull Request Description (markdown)
4. Final Squash Stub (plaintext) (Must differ from #1)
5. Extended Technical Manifest (plaintext)
6. Review Conversation Starter (markdown)

### Integrator/operator closeout duties
- [ ] Review diff vs DP scope/forbidden zones
- [ ] Run repo-gates / required checks
- [ ] Commit/push/open PR/merge (operator-controlled)

---

## 4.1 Thread Transition (Reset / Archive Rule)
**Purpose:** Prevent TASK from becoming a museum while preserving continuity.

When a DP is **complete** (merged) or **ended** (canceled/superseded):
1) Add a final Work Log entry that starts with: `THREAD END:` and includes:
   - outcome (merged/canceled/superseded)
   - pointer to the DP RESULTS file
   - `NEXT:` the single action (often “start new DP” or “await operator”)
2) Reset sections **2. Active Context** and **3. Current Dispatch Packet** to the next DP.
3) Keep the Work Log, but separate threads with a visible divider line:
   - `---`
   - `THREAD START: DP-OPS-[NEWID]`

(If the Work Log gets too long, it’s acceptable to keep only the most recent thread’s entries here and move older thread logs into the DP RESULTS file—only when explicitly directed.)

---

## 5. Work Log (Timestamped Continuity)
**Rule:** This is not a transcript. It’s the durable breadcrumb trail.  
**Expectation:** Append a new timestamped entry on every DP closeout (no exceptions).  
**Each entry ends with:** `NEXT: <one single action>`.

- **Example format:** `2026-01-27 14:05 — DP-OPS-0005: Example entry only. Verification: NOT RUN. Blockers: none. NEXT: follow-up.`
- *[YYYY-MM-DD HH:MM]* — DP-OPS-[ID]: [short note]. Verification: [RUN/NOT RUN]. Blockers: [none/...]. NEXT: [single action]
- *[YYYY-MM-DD HH:MM]* — [short note]. Verification: [..]. Blockers: [..]. NEXT: [single action]
- *2026-01-27 14:26* — DP-OPS-0005: Hardened TASK (worker git authority + dump-as-command + Work Log expectation); synced DP lint to TASK headings; added TASK gating in .github; updated SoP. Verification: RUN (dp OK; context warnings). Blockers: none. NEXT: validate end-to-end DP flow with a small "toy DP" and ensure gates behave as intended.
- *2026-01-27 17:20* — DP-OPS-0004: pruned SoP into untracked museum; adjusted context to ignore historical SoP refs. Verification: RUN (context clean; verify 4 issues; truth OK). Blockers: none. NEXT: review DP-OPS-0004 results and confirm closeout.
- *2026-02-04 00:05* — DP-OPS-0019: Defined Context Hazard doctrine, added Context Hygiene directive, added negative constraints, and hardened context lint. Verification: RUN (dump, context, truth; context hazard toggle verified). Blockers: none. NEXT: begin operator closeout review.
- *2026-01-29 10:16* — DP-OPS-0006: Added DP sanity check command and dump refiners examples in MANUAL; tightened AI branch authority in CONTRIBUTING. Verification: RUN (verify 4 warnings; context clean). Blockers: none. NEXT: operator review + commit.
- *2026-01-29 12:05* — DP-OPS-0007: Aligned dp with TASK + removed operator-artifact prerequisite pattern + clarified storage artifact handling. Verification: RUN (tools/lint/dp.sh --test). Blockers: none. NEXT: operator review + commit.
- *2026-01-29 13:59* — DP-OPS-0008: Relaxed dp heading matching; codified DP file placement and worker receipt rule; updated MANUAL; added dp fixtures. Verification: RUN (dp fixture ok/bad). Blockers: none. NEXT: operator review + commit.
- *2026-01-29 17:12* — DP-OPS-TEST: Toy DP execution on work/boot_files_update@4a0494b5. Verification: RUN. Blockers: none. NEXT: Operator review receipt completeness.
- *2026-01-29 18:12* — DP-OPS-FIX-01: Removed authoring-time artifacts block; confirmed Section III heading format. Verification: RUN (grep -n "## III. EXECUTION PLAN" TASK.md). Blockers: none. NEXT: re-run DP-OPS-TEST.
- *2026-01-29 18:27* — DP-OPS-FIX-01: Removed authoring-time artifacts block; confirmed Section III heading single line; created receipt and refreshed OPEN and dump artifacts. Verification: RUN (git status --porcelain; git diff; grep -n "## III. EXECUTION PLAN" TASK.md). Blockers: none. NEXT: re-run DP-OPS-TEST.
- *2026-01-29 18:41* — DP-OPS-FIX-01: Added scope lock for canon changes; required RESULTS Status block; refreshed receipt. Verification: RUN (git status --porcelain; git diff --name-only; git diff --stat; git diff; grep -n "## III. EXECUTION PLAN" TASK.md). Blockers: none. NEXT: re-run DP-OPS-TEST.
- *2026-01-31 11:37* — DP-OPS-0009: Added DP code-fence formatting rule in TASK and logged the change in SoP. Verification: RUN (dump; context; truth). Blockers: none. NEXT: operator review + commit.
- *2026-02-01 05:30* — DP-OPS-0010: Established Skills subsystem (docs/library/SKILLS.md + S-LEARN-01..05) and worker skill capture utility; updated TASK + library index + SoP. Verification: RUN (dump; context; truth; library; verify WARN; dp --test). Blockers: none. NEXT: operator review + commit.
- *2026-02-01 16:30* — DP-OPS-0011: Added harvest/promote/check workflow to skill, updated canon docs, and promoted S-LEARN-07. Verification: RUN (dump bundle; context; truth; library; verify WARN; dp --test; skill check). Blockers: none. NEXT: operator review + commit.
- *2026-02-01 19:03* — DP-OPS-0012: Added heuristics engine, semantic drift guard, and provenance enforcement for skill harvesting; updated canon docs and added S-LEARN-08. Verification: RUN (dump; context; truth; library; verify WARN; skill check). Blockers: none. NEXT: operator review + commit.
- *2026-02-01 20:10* — DP-OPS-0013: Refactored S-LEARN-01 through S-LEARN-05 with Museum Provenance, standardized headers, and Trap/Solution guidance. Verification: RUN (dump; context; truth). Blockers: none. NEXT: operator review + commit.
- *2026-02-02 03:57* — DP-OPS-0014: Hardened S-LEARN-01 through S-LEARN-05 with stack-specific specifications and updated TASK receipt mandate; ran skill harvest with semantic collision override. Verification: RUN (dump; context OK; truth OK; library OK; verify PASS with 3 warnings: storage/archives, storage/documentation, storage/ToDo). Blockers: none. NEXT: operator review + commit.
- *2026-02-02 04:39* — DP-OPS-0015: Consolidated S-LEARN-08 into S-LEARN-06 and hardened S-LEARN-06 and S-LEARN-07; updated index and ran skill harvest with semantic collision override. Verification: RUN (dump; context OK; truth OK with grep warnings for removed S-LEARN-08.md; library OK; verify PASS with 3 warnings: storage/archives, storage/documentation, storage/ToDo). Blockers: none. NEXT: operator review + commit.
- *2026-02-03 11:32* — DP-OPS-0016: Hardened TASK context boundaries, receipt checklist, and closeout metadata; updated SoP. Verification: RUN (dump; context OK; truth OK). Blockers: none. NEXT: operator review + commit.
- *2026-02-04 11:39* — DP-OPS-0020: Implemented Phase Two Doctrine (canon compression, pruning, context bundles, style lint) and promoted S-LEARN-08. Verification: RUN (dump; context; truth; llms; prune; style failed: markdownlint missing). Blockers: markdownlint not installed. NEXT: operator review and decide on markdownlint installation.
- *2026-02-05 13:01* — DP-OPS-0024: Hardened project input validation, added project STELA linting, enforced no-contraction checks, and documented root ontology. Verification: RUN (context OK; truth OK; project lint OK with no projects found; style FAIL: markdownlint missing; dump OK; prune OK; llms OK; skill harvest OK). Blockers: markdownlint missing. NEXT: operator closeout review.
- *2026-02-05 15:12* — DP-OPS-0025: Consolidated governance into PoT, updated pointers and tooling, and archived TRUTH and AGENTS. Verification: RUN (open, dump, context, truth, skill harvest, prune, llms). Blockers: none. NEXT: operator review for merge.


## llms.txt
# Stela llms.txt
# Pointer map to canonical docs and tools (no duplication).

## 0. Context Bundles
- llms-small.txt - Small context bundle (TRUTH, AGENTS, SoP head 10, docs/library/INDEX.md, S-LEARN-01 through S-LEARN-10).
- llms-full.txt - Full context bundle (small + README + docs/library).

## 1. Governance & Jurisdictions
- PoT.md - Policy of Truth: constitution, staffing, jurisdiction, and enforcement.
- docs/GOVERNANCE.md - Non-negotiables and project coherence rules.

## 2. State & Continuity
- SoP.md - Historical ledger (State of Play).
- TASK.md - Active work surface, DP contract, and thread log.
- docs/library/MAP.md - Wayfinding for cross-session state.
- ops/lib/manifests/CONTEXT.md - Required context artifact checklist.

## 3. Operations & Manuals
- docs/library/MANUAL.md - Command mechanics and cheat sheet.
- docs/library/INDEX.md - Curated index of approved operator surfaces.
- docs/library/SKILLS.md - Skills promotion template and packet ledger.
- docs/INDEX.md - Documentation front door.

## 4. Operational Binaries
- ops/bin/open - Prompt generation and freshness gate.
- ops/bin/dump - State capture for agent ingestion.
- ops/bin/help - Context-aware documentation search.


## docs/library/INDEX.md
# Docs Library Index (Authorized Surface Registry)
#
# Format: topic | title | path (repo-relative)
#
# This file is the "Authorized Surface List" for the platform.
# Only high-value, maintained documentation appears here.
# If a file is listed here, it is protected Canon.

# --- 1. The Constitution (Law & Logic) ---
system-constitution | Policy of Truth           | PoT.md
agent-jurisdiction  | Staffing & Jurisdiction   | PoT.md
project-governance  | Governance & Drift        | docs/GOVERNANCE.md

# --- 2. The Ledger (State Persistence) ---
state-of-play       | SoP (History Ledger)      | SoP.md
active-contract     | TASK (Dispatch Packet)    | TASK.md

# --- 3. The Console (Operator Interfaces) ---
operator-manual     | Operator Console          | docs/library/MANUAL.md
continuity-map      | State Topology            | docs/library/MAP.md
quickstart          | Onboarding & Workflow     | docs/QUICKSTART.md
docs-front-door     | Docs Root Index           | docs/INDEX.md

# --- 4. Subsystems (Deep Dives) ---
ops-subsystem       | Ops Engine Room           | docs/ops/INDEX.md
context-spec        | Context Rehydration       | docs/CONTEXT.md
security-ops        | Security Operations       | docs/security/README.md

# --- 5. Skills (Production Payloads / On-Demand) ---
skills-template     | Skills Promotion Template | docs/library/SKILLS.md
skill-s-learn-01    | Skill: Verification Loop  | docs/library/skills/S-LEARN-01.md
skill-s-learn-02    | Skill: Project Guidelines | docs/library/skills/S-LEARN-02.md
skill-s-learn-03    | Skill: Zenith Reference   | docs/library/skills/S-LEARN-03.md
skill-s-learn-04    | Skill: Coding Standards   | docs/library/skills/S-LEARN-04.md
skill-s-learn-05    | Skill: Security Protocols | docs/library/skills/S-LEARN-05.md
skill-s-learn-06    | Skill: Advanced Git Forensics | docs/library/skills/S-LEARN-06.md
skill-s-learn-07    | Skill: Harvest and Promote Skills | docs/library/skills/S-LEARN-07.md
skill-s-learn-08 | Skill: Prune SoP and Regenerate Context Bundles | docs/library/skills/S-LEARN-08.md

# --- 6. Agents (Role Definitions) ---
agent-r-agent-01    | Agent: architect            | docs/library/agents/R-AGENT-01.md
agent-r-agent-02    | Agent: code-reviewer        | docs/library/agents/R-AGENT-02.md
agent-r-agent-03    | Agent: doc-updater          | docs/library/agents/R-AGENT-03.md
agent-r-agent-04    | Agent: integrator           | docs/library/agents/R-AGENT-04.md
agent-r-agent-05    | Agent: refactor-cleaner     | docs/library/agents/R-AGENT-05.md
agent-r-agent-06    | Agent: security-reviewer    | docs/library/agents/R-AGENT-06.md

# --- 7. Tasks (Execution Playbooks) ---
task-b-task-01      | Task: Code Review           | docs/library/tasks/B-TASK-01.md
task-b-task-02      | Task: Verification Command  | docs/library/tasks/B-TASK-02.md
task-b-task-03      | Task: Integrate Command     | docs/library/tasks/B-TASK-03.md
task-b-task-04      | Task: Plan Command          | docs/library/tasks/B-TASK-04.md
task-b-task-05      | Task: Refactor Clean        | docs/library/tasks/B-TASK-05.md
task-b-task-06      | Task: Update Documentation  | docs/library/tasks/B-TASK-06.md
task-b-task-07      | Task: Refresh + Discuss     | docs/library/tasks/B-TASK-07.md
task-b-task-08      | Task: Refresh + Draft DP    | docs/library/tasks/B-TASK-08.md
task-b-task-09      | Task: Refresh + Conform DP  | docs/library/tasks/B-TASK-09.md
task-b-task-10      | Task: Refresh + Audit       | docs/library/tasks/B-TASK-10.md


## docs/library/MANUAL.md
# Operator Manual (Command Console)

## 0. The Loop (Mechanical Workflow)
**Execution Cycle:**
1.  **Start:** `./ops/bin/open` (Generates prompt + freshness gate).
2.  **Capture:** `./ops/bin/dump` (Serializes state).
3.  **Assign:** Create DP in `TASK.md` + New Branch `work/topic-date`.
4.  **Dispatch:** Hand DP to Worker (See Section 5).
5.  **Review:** Verify `RECEIPT` (Proofs) vs `TASK.md` requirements.
6.  **Close:** Merge PR + Update `SoP.md` (if Canon changed).

---

## 1. Top Commands (Cheat Sheet)

### Session Start (Open)
~~~bash
# Standard Open (Prints to stdout + saves to storage/handoff/)
./ops/bin/open --intent="Refactor docs" --dp="DP-OPS-0050"

# Auto-save convenience (Adds "OPEN saved: <path>" line)
./ops/bin/open --intent="..." --out=auto
~~~

### State Capture (Dump)
~~~bash
# Platform Scope (Default - Excludes projects/)
./ops/bin/dump --scope=platform --format=chatgpt --out=auto

# Full Scope (Includes projects/ - auto-compressed)
./ops/bin/dump --scope=full --format=chatgpt --out=auto

# Receipt Bundle (Dump + Manifest inside tarball)
./ops/bin/dump --scope=platform --out=auto --bundle
~~~

### Documentation (Help)
~~~bash
./ops/bin/help              # Show menu
./ops/bin/help continuity   # Grep docs for "continuity"
~~~

### Validation (Lint)
~~~bash
# Validate DP format before dispatch
./tools/lint/dp.sh storage/dp/intake/DP-OPS-0050.md

# Validate Context consistency
./tools/lint/context.sh
~~~

### Skills (Harvest + Promote)
Skills remain on-demand only and must not be placed in `ops/lib/manifests/CONTEXT.md`.

~~~bash
# Enforce Skills Context Hazard
ops/lib/scripts/skill.sh check

# Draft a skill candidate
ops/lib/scripts/skill.sh harvest --name "skill-title" --context "when to use it" --solution "what to do"

# Promote the draft into docs/library/skills and register it
ops/lib/scripts/skill.sh promote storage/handoff/skill-draft-YYYYMMDD-HHMMSS-skill-title.md
~~~

---

## 2. Dispatch Packet (DP) Mechanics
**Placement:**
* Drafts: `storage/dp/intake/`
* Processed: `storage/dp/processed/`

**Disapproval Triggers (When to Reject):**
* ❌ Missing `RECEIPT` (Proof Bundle).
* ❌ Verification steps reported as "NOT RUN".
* ❌ `git diff --stat` does not match the claims.
* ❌ Forbidden scope touched (Drift).

---

## 3. Scope Definition
* **Platform:** `ops/`, `docs/`, `tools/`, `.github/`. (The OS).
* **Project:** `projects/`. (The Payload).
* **Rule:** Default to `--scope=platform` unless the DP explicitly targets a project.

---

## 4. Key Paths (Reference)
* **Constitution:** [`../../PoT.md`](../../PoT.md)
* **Active Contract:** [`../../TASK.md`](../../TASK.md)
* **History:** [`../../SoP.md`](../../SoP.md)
* **Artifacts:** `storage/handoff/` (Results), `storage/dumps/` (State).


## docs/library/MAP.md
# Continuity Map (State Persistence)

## 0. Philosophy
**The repo is stateless; the Map provides the memory.**
This document defines the specific surfaces that must be loaded to preserve governance, history, and active intent across sessions.

## 1. The Constitution (Immutable Law)
*Rules that do not change without a governance event.*
* **Policy of Truth:** [`../../PoT.md`](../../PoT.md) — Constitution, staffing, jurisdiction, and enforcement (SSOT).
* **Discovery:** [`../../llms.txt`](../../llms.txt) — The machine-readable entry point.

## 2. The Ledger (Mutable State)
*Living records of what has happened and what is happening.*
* **History:** [`../../SoP.md`](../../SoP.md) — The State of Play. (What shipped, when, why).
* **Active Contract:** [`../../TASK.md`](../../TASK.md) — The Dispatch Packet. (Current objective and work log).

## 3. The Interface (Wayfinding)
*Operator-facing manuals for navigation.*
* **Command Console:** [`MANUAL.md`](MANUAL.md) — Mechanics, cheat sheets, and top commands.
* **Curated Index:** [`INDEX.md`](INDEX.md) — The approved library of operator guidance.

## 4. The Bridge (Ingestion Tools)
*Mechanisms that move state from disk to context.*
* **Generation:** [`../../ops/bin/open`](../../ops/bin/open) — Creates the session prompt.
* **Capture:** [`../../ops/bin/dump`](../../ops/bin/dump) — Serializes the platform.
* **Validation:** [`../../ops/lib/manifests/CONTEXT.md`](../../ops/lib/manifests/CONTEXT.md) — The required context checklist.

## 5. Root Ontology
*Defines the Provider and Consumer relationship for Phase 3.*
* **Provider Root:** `docs/library/` — Canonical guidance and reference surfaces.
* **Consumer Root:** `projects/` — Project payloads that consume the library guidance.


## docs/GOVERNANCE.md
# Governance (Coherence & Drift Control)

## 0. Philosophy
**Governance is not “process theater” — it is the product.**
This project is built to resist entropy. We value structure over memory and explicit contracts over implicit knowledge.

## 1. Non-Negotiables (Hard Rules)
* **No Direct Pushes:** `main` is read-only. Work happens on `work/*` branches → PRs → Merge.
* **Green Gates Only:** If `repo-gates` fail, the code is wrong, not the gate.
* **Canon Supremacy:** When in doubt, `PoT.md` wins.

## 2. Canon Surfaces (Source of Truth)
These files represent the immutable reality of the project.
* `PoT.md` — Constitution, staffing, jurisdiction, and logic standards.
* `SoP.md` — The historical ledger (State of Play).
* `TASK.md` — The active contract (DP) and work log.
* `docs/INDEX.md` — The system root.

## 3. Change Management (The SoP Rule)
**Rule:** You must write to `SoP.md` if (and only if) you alter **Canon** or **Governance** surfaces.
* **Why:** We track changes to the *rules* of the system, not just the code.
* **Routine Work:** Standard feature work in `projects/` does not require SoP entries unless it changes the platform itself.

## 4. Staffing Protocol (Jurisdiction)
Defined strictly in `PoT.md`:
* **Operator (Human):** Final authority. Owns approvals, commits, and secrets.
* **Integrator (AI Lead):** Guardian of governance. Detects drift and maintains structure.
* **Contractor (AI Guest):** Execution arm. Drafts logic but never commits.

## 5. AI Engagement Protocol
* **Logic First:** All agents must adhere to the Behavioral Logic Standards in `PoT.md`.
* **DP Required:** No logic changes shall be proposed without an active Dispatch Packet (DP) in `TASK.md`.
* **No Hallucinations:** Cite sources. Do not invent paths.

## 6. Tone Lanes
* **Ops Lane (`ops/`, `docs/ops/`):** Checklist-heavy, precise, dry, no-fluff.
* **Public Lane (`README.md`):** Human-centric, explanatory, welcoming.


